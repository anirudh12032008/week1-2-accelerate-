<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
      <script src="https://cdn.tailwindcss.com"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


</head>
<body>
    <h1>double pendulum
    </h1>
    <div class="main flex flex-row gap-4">
        <div>
            <canvas id="canvas" width="800" height="600" class="rounded-lg border border-gray-300"></canvas>
        </div>
        
        <div class="w-96">
            <div class="flex justify-center gap-2 mb-4 p-3 bg-gray-50 rounded-lg">
                <button id="start" onclick="start()" class="flex items-center justify-center w-10 h-10 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors" title="Start Simulation">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path>
                    </svg>
                </button>
                <button id="stop" onclick="stop()" class="flex items-center justify-center w-10 h-10 bg-yellow-500 text-white rounded-full hover:bg-yellow-600 transition-colors" title="Pause Simulation">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                    </svg>
                </button>
                <button id="reset" onclick="reset()" class="flex items-center justify-center w-10 h-10 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors" title="Reset Simulation">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path>
                    </svg>
                </button>
            </div>
            
            <div class="flex border-b">
                <button class="tab-btn px-4 py-2 border-b-2 border-blue-500 text-blue-500 font-medium" data-tab="controls">Controls</button>
                <button class="tab-btn px-4 py-2 text-gray-500 hover:text-blue-500" data-tab="graphs">Graphs</button>
                <button class="tab-btn px-4 py-2 text-gray-500 hover:text-blue-500" data-tab="customize">customize</button>
                
            </div>
            
            <div class="tab-content mt-4">
                <div id="controls-tab" class="tab-pane">
                    <h2 class="text-xl font-bold mb-4">Parameters</h2>
                    <div class="space-y-3">
                        <div>
                            <label for="length_rod_1" class="block text-sm font-medium">Length of Rod 1:</label>
                            <input type="number" id="length_rod_1" value="1" step="0.1" class="w-full px-3 py-1 border rounded">
                        </div>
                        <div>
                            <label for="length_rod_2" class="block text-sm font-medium">Length of Rod 2:</label>          
                            <input type="number" id="length_rod_2" value="1" step="0.1" class="w-full px-3 py-1 border rounded">
                        </div>
                        <div>
                            <label for="mass_1" class="block text-sm font-medium">Mass 1:</label>
                            <input type="number" id="mass_1" value="1" step="0.1" class="w-full px-3 py-1 border rounded">
                        </div>
                        <div>
                            <label for="mass_2" class="block text-sm font-medium">Mass 2:</label>
                            <input type="number" id="mass_2" value="1" step="0.1" class="w-full px-3 py-1 border rounded">
                        </div>
                        <div>
                            <label for="gravity" class="block text-sm font-medium">Gravity:</label>
                            <input type="number" id="gravity" value="9.81" step="0.1" class="w-full px-3 py-1 border rounded">
                        </div>
                        <div>
                            <label for="theta_1" class="block text-sm font-medium">Theta 1:</label>
                            <input type="number" id="theta_1" value="1" step="0.1" class="w-full px-3 py-1 border rounded">
                        </div>
                        <div>
                            <label for="theta_2" class="block text-sm font-medium">Theta 2:</label>
                            <input type="number" id="theta_2" value="1" step="0.1" class="w-full px-3 py-1 border rounded">
                        </div>
                        <button id="upt" class="w-full bg-blue-500 text-white px-4 py-2 rounded mt-4 hover:bg-blue-600">Update Parameters</button>
                    </div>
                </div>
                
                <div id="graphs-tab" class="tab-pane hidden">
                    <h2 class="text-xl font-bold mb-4">Real-time Graphs</h2>
                    <div class="space-y-4">
                        <div>
                            <h3 class="text-lg font-medium mb-2">Angle vs Time</h3>
                            <canvas id="angle" width="350" height="200" class="border rounded"></canvas>
                        </div>
                        <div>
                            <h3 class="text-lg font-medium mb-2">Angular Velocity vs Time</h3>
                            <canvas id="velocity" width="350" height="200" class="border rounded"></canvas>
                        </div>
                    </div>
                </div>
                <div id="customize-tab" class="tab-pane hidden">
    <h2 class="text-xl font-bold mb-4">Appearance Settings</h2>
    <div class="space-y-3">
        <div>
            <label for="bg_color" class="block text-sm font-medium">Background Color:</label>
            <input type="color" id="bg_color" value="#000000" class="w-full h-10 rounded">
        </div>
        <div>
            <label for="thread_color" class="block text-sm font-medium">Thread Color:</label>
            <input type="color" id="thread_color" value="#ffffff" class="w-full h-10 rounded">
        </div>
        <div>
            <label for="ball1_color" class="block text-sm font-medium">Ball 1 Color:</label>
            <input type="color" id="ball1_color" value="#ff0000" class="w-full h-10 rounded">
        </div>
        <div>
            <label for="ball2_color" class="block text-sm font-medium">Ball 2 Color:</label>
            <input type="color" id="ball2_color" value="#0000ff" class="w-full h-10 rounded">
        </div>
        <div>
            <label for="trail_opacity" class="block text-sm font-medium">Trail Opacity (0-1):</label>
            <input type="number" id="trail_opacity" value="0.1" step="0.05" min="0" max="1" class="w-full px-3 py-1 border rounded">
        </div>
        <!-- <div>
            <label for="trail_opacity" class="block text-sm font-medium">Trail Opacity (0-1):</label>
            <input type="number" id="trail_opacity" value="0.1" step="0.05" min="0" max="1" class="w-full px-3 py-1 border rounded">
        </div> -->
        <button id="apply_appearance" class="w-full bg-green-500 text-white px-4 py-2 rounded mt-4 hover:bg-green-600">Apply Appearance</button>
    </div>
</div>

            </div>
        </div>
    </div>
       <script src="/static/app.js"></script>
       
       <script>

        // shitty frontend --> good frontend
        // keeping this here cause the app.js will have only good things not ts :loll:
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabPanes = document.querySelectorAll('.tab-pane');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    tabButtons.forEach(btn => {
                        btn.classList.remove('border-blue-500', 'text-blue-500', 'font-medium');
                        btn.classList.add('text-gray-500');
                    });
                    
                    this.classList.add('border-blue-500', 'text-blue-500', 'font-medium');
                    this.classList.remove('text-gray-500');
                    
                    tabPanes.forEach(pane => {
                        pane.classList.add('hidden');
                    });
                    
                    document.getElementById(targetTab + '-tab').classList.remove('hidden');
                });
            });
        });

        document.getElementById('apply_appearance').addEventListener('click', function() {
            bgc = document.getElementById('bg_color').value;
            threadc = document.getElementById('thread_color').value;
            ball1c = document.getElementById('ball1_color').value;
            ball2c = document.getElementById('ball2_color').value;
            trailc = parseFloat(document.getElementById('trail_opacity').value);
            // trailc = parseFloat(document.getElementById('trail_opacity').value);
        });
       </script>

</body>
</html>